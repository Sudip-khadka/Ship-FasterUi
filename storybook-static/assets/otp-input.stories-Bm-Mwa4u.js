import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./index-DUAV1Q2A.js";import{c as b}from"./index-Dp3B9jqt.js";import{c as v}from"./utils-CiMRq3MP.js";import"./clsx-B-dksMZM.js";const ft=b("flex items-center justify-start",{variants:{size:{small:"gap-1",medium:"gap-2",large:"gap-3"},divider:{true:"relative",false:""}},defaultVariants:{size:"medium",divider:!1}}),xt=b("flex items-center justify-center text-center transition-all outline-none focus:ring-0 caret-transparent",{variants:{type:{boxed:"border rounded-md",lined:"border-0 border-b",floating:"border-none"},state:{placeholderFocused:"border-[#edf8f0] text-[#f1f1f1]",typing:"border-primary text-primary",filled:"border-input text-foreground",disabled:"border-input text-muted-foreground bg-muted opacity-50",error:"border-red-500 text-red-500",complete:"border-primary text-primary "},size:{small:"",medium:"",large:""}},compoundVariants:[{type:"boxed",state:"typing",className:"ring-2 ring-success-500"},{type:"boxed",size:"small",className:"w-8 h-8 text-sm"},{type:"boxed",size:"medium",className:"w-10 h-10 text-base"},{type:"boxed",size:"large",className:"w-14 h-14 text-xl"},{type:"lined",size:"small",className:"w-6 h-8 text-sm"},{type:"lined",size:"medium",className:"w-8 h-10 text-base"},{type:"lined",size:"large",className:"w-10 h-14 text-xl"},{type:"floating",size:"small",className:"w-8 h-8 text-sm"},{type:"floating",size:"medium",className:"w-10 h-10 text-base"},{type:"floating",size:"large",className:"w-14 h-14 text-xl"}],defaultVariants:{type:"boxed",state:"filled",size:"medium"}}),gt=b("pointer-events-none absolute inset-0 flex items-center justify-center",{variants:{state:{placeholderFocused:"text-[#dddddd] ",typing:"text-[#dddddd]",filled:"text-[#5e5e5e]",disabled:"text-muted-foreground opacity-50",error:"text-red-300",complete:"text-primary"},size:{small:"text-sm",medium:"text-base",large:"text-xl"}},defaultVariants:{state:"placeholderFocused",size:"medium"}}),ht=b("absolute top-1/2 -translate-y-1/2 transition-opacity duration-500",{variants:{size:{small:"h-4 w-[2px]",medium:"h-5 w-[2px]",large:"h-6 w-[2px]"},state:{placeholderFocused:"bg-primary",typing:"bg-primary",filled:"bg-transparent",disabled:"bg-transparent",error:"bg-red-500",complete:"bg-primary"}},defaultVariants:{size:"medium",state:"placeholderFocused"}}),yt=b("block mb-1",{variants:{state:{placeholderFocused:"text-foreground",typing:"text-foreground",filled:"text-foreground",disabled:"text-muted-foreground",error:"text-red-500",complete:"text-foreground"},size:{small:"text-xs",medium:"text-sm",large:"text-base"}},defaultVariants:{state:"filled",size:"medium"}}),vt=b("block mt-1",{variants:{state:{placeholderFocused:"text-muted-foreground",typing:"text-muted-foreground",filled:"text-muted-foreground",disabled:"text-muted-foreground opacity-50",error:"text-red-500",complete:"text-muted-foreground"},size:{small:"text-xs",medium:"text-xs",large:"text-sm"}},defaultVariants:{state:"filled",size:"medium"}});function d({number:r=6,value:u="",onChange:l,onComplete:o,disabled:p=!1,autoFocus:h=!1,className:n,inputClassName:T,type:w="boxed",state:j="filled",size:c="medium",showTitleText:y=!1,titleText:tt="Input verification code",showHelperText:st=!1,helperText:rt="Helper text",placeholderText:at="0",divider:lt=!1}){const[m,$]=a.useState(u.split("").slice(0,r).concat(Array(r).fill("")).slice(0,r)),f=a.useRef([]),[V,X]=a.useState(null),[ot,Y]=a.useState(!0),[K,G]=a.useState(!1);a.useEffect(()=>{f.current=f.current.slice(0,r)},[r]),a.useEffect(()=>{const s=u.split("").slice(0,r).concat(Array(r).fill("")).slice(0,r);$(s);const t=s.every(i=>i!=="")&&s.length===r;G(t)},[u,r]),a.useEffect(()=>{if(V===null)return;const s=setInterval(()=>{Y(t=>!t)},500);return()=>clearInterval(s)},[V]);const it=(s,t)=>{var ee,te;const x=s.target.value;if(!/^\d*$/.test(x))return;if(x.length>1){const S=x.split("").slice(0,r-t),F=[...m];S.forEach((U,re)=>{t+re<r&&(F[t+re]=U)}),$(F);const mt=Math.min(t+S.length,r-1);(ee=f.current[mt])==null||ee.focus();const Q=F.join("");l==null||l(Q);const se=F.every(U=>U!=="")&&Q.length===r;G(se),se&&(o==null||o(Q));return}const g=[...m];g[t]=x,$(g),x&&t<r-1&&((te=f.current[t+1])==null||te.focus());const J=g.join("");l==null||l(J);const Z=g.every(S=>S!=="")&&J.length===r;G(Z),Z&&(o==null||o(J))},nt=(s,t)=>{var i,x,g;s.key==="Backspace"&&!m[t]&&t>0&&((i=f.current[t-1])==null||i.focus()),s.key==="ArrowLeft"&&t>0&&(s.preventDefault(),(x=f.current[t-1])==null||x.focus()),s.key==="ArrowRight"&&t<r-1&&(s.preventDefault(),(g=f.current[t+1])==null||g.focus())},ct=(s,t)=>{s.target.select(),X(t),Y(!0)},dt=()=>{X(null)},N=s=>p?"disabled":j==="error"?"error":K?"complete":V===s?m[s]?"typing":"placeholderFocused":m[s]?"filled":"placeholderFocused",ut=s=>t=>{f.current[s]=t},pt=s=>m[s]?{left:{small:{withValue:"calc(50% - 7px)"},medium:{withValue:"calc(50% - 7px)"},large:{withValue:"calc(50% - 7px)"}}[c||"medium"].withValue}:{left:"calc(50% - 7px)"};return e.jsxs("div",{className:"space-y-1",children:[y&&e.jsx("label",{className:v(yt({state:K?"complete":j,size:c})),children:tt}),e.jsx("div",{className:v(ft({size:c,divider:lt}),n,"relative"),children:Array.from({length:r}).map((s,t)=>e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:ut(t),type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:m[t]||"",onChange:i=>it(i,t),onKeyDown:i=>nt(i,t),onFocus:i=>ct(i,t),onBlur:dt,disabled:p,autoFocus:h&&t===0,className:v(xt({type:w,size:c,state:N(t)}),w==="floating",N(t)==="typing"&&w==="floating",T),"aria-label":`Digit ${t+1} of ${r}`}),(!m[t]||p)&&e.jsx("div",{className:v(gt({state:N(t),size:c})),children:at}),V===t&&e.jsx("div",{className:v(ht({size:c,state:N(t)}),ot?"opacity-100":"opacity-0"),style:pt(t)})]},t))}),st&&e.jsx("p",{className:v(vt({state:K?"complete":j,size:c})),children:rt})]})}d.__docgenInfo={description:"",methods:[],displayName:"OTPInput",props:{number:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"6",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onComplete:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},autoFocus:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},showTitleText:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},titleText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Input verification code"',computed:!1}},showHelperText:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},helperText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Helper text"',computed:!1}},placeholderText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"0"',computed:!1}},divider:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},type:{defaultValue:{value:'"boxed"',computed:!1},required:!1},state:{defaultValue:{value:'"filled"',computed:!1},required:!1},size:{defaultValue:{value:'"medium"',computed:!1},required:!1}},composes:["VariantProps"]};const It={title:"Form/OTPInput",component:d,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{number:{control:{type:"range",min:3,max:12,step:1},description:"Number of input fields to display"},value:{control:"text",description:"Current OTP value"},type:{control:"select",options:["boxed","lined","floating"],description:"Visual style of the input fields"},size:{control:"select",options:["small","medium","large"],description:"Size of the input fields"},state:{control:"select",options:["placeholderFocused","typing","filled","disabled","error"],description:"Current state of the input"},disabled:{control:"boolean",description:"Whether the input is disabled"},autoFocus:{control:"boolean",description:"Whether the first input should be auto-focused on mount"},divider:{control:"boolean",description:"Whether to display dividers between inputs"},showTitleText:{control:"boolean",description:"Whether to display the title text"},titleText:{control:"text",description:"Title text to display"},showHelperText:{control:"boolean",description:"Whether to display helper text"},helperText:{control:"text",description:"Helper text to display"},placeholderText:{control:"text",description:"Placeholder text for empty inputs"}},args:{number:6,value:"",type:"boxed",size:"medium",state:"filled",disabled:!1,autoFocus:!1,divider:!1,showTitleText:!0,titleText:"Input verification code",showHelperText:!0,helperText:"Enter the 6-digit code sent to your phone",placeholderText:"0"}},z={args:{number:6,value:""}},I={args:{number:6,value:"123456"}},P={args:{number:6,value:"123"}},E={args:{number:6,value:"123",state:"error",helperText:"Invalid verification code"}},H={args:{number:6,value:"123",disabled:!0}},q={args:{number:6,size:"small"}},A={args:{number:6,size:"large"}},k={args:{number:6,type:"lined"}},C={args:{number:6,type:"floating"}},L={args:{number:4,titleText:"Enter 4-digit PIN",helperText:"Enter the 4-digit PIN"}},O={args:{showHelperText:!1}},D={args:{showTitleText:!1}},R={args:{placeholderText:"•"}},bt=()=>{const[r,u]=a.useState(""),[l,o]=a.useState(""),p=n=>{u(n)},h=n=>{o(n)};return e.jsx("div",{className:"space-y-4",children:e.jsx(d,{number:6,value:r,onChange:p,onComplete:h,showTitleText:!0,titleText:"Interactive Example",showHelperText:!0,helperText:l?`Completed with value: ${l}`:"Enter all digits to complete"})})},M={render:()=>e.jsx(bt,{})},Tt=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Boxed Style"}),e.jsx(d,{number:6,type:"boxed",showTitleText:!1,showHelperText:!1})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Lined Style"}),e.jsx(d,{number:6,type:"lined",showTitleText:!1,showHelperText:!1})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Floating Style"}),e.jsx(d,{number:6,type:"floating",showTitleText:!1,showHelperText:!1})]})]}),W={render:()=>e.jsx(Tt,{})},wt=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Small Size"}),e.jsx(d,{number:6,size:"small",showTitleText:!1,showHelperText:!1})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Medium Size"}),e.jsx(d,{number:6,size:"medium",showTitleText:!1,showHelperText:!1})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Large Size"}),e.jsx(d,{number:6,size:"large",showTitleText:!1,showHelperText:!1})]})]}),B={render:()=>e.jsx(wt,{})},jt=()=>{const[r,u]=a.useState(""),[l,o]=a.useState(!1),[p,h]=a.useState(!1),[n,T]=a.useState(!1),w=y=>{n&&T(!1),u(y)},j=y=>{u(y),o(!0),setTimeout(()=>{o(!1),y==="123456"?h(!0):T(!0)},1500)},c=()=>{u(""),h(!1),T(!1)};return e.jsxs("div",{className:"max-w-md p-6 border rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Phone Verification"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Enter the 6-digit code sent to your phone number ending in ***-***-1234"}),e.jsx(d,{number:6,value:r,onChange:w,onComplete:j,autoFocus:!0,disabled:l||p,state:n?"error":"filled",showHelperText:n||l,helperText:n?"Invalid code. Please try again.":l?"Verifying...":""}),e.jsx("div",{className:"mt-6",children:p?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsx("span",{children:"Verification successful!"})]}):e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",onClick:c,children:"Resend code"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",onClick:c,children:"Change phone number"})]})})]})},_={render:()=>e.jsx(jt,{}),parameters:{docs:{description:{story:'A complete example showing how to use the OTP input in a verification form. Try entering "123456" for a successful verification.'}}}};var ae,le,oe;z.parameters={...z.parameters,docs:{...(ae=z.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    number: 6,
    value: ""
  }
}`,...(oe=(le=z.parameters)==null?void 0:le.docs)==null?void 0:oe.source}}};var ie,ne,ce;I.parameters={...I.parameters,docs:{...(ie=I.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {
    number: 6,
    value: "123456"
  }
}`,...(ce=(ne=I.parameters)==null?void 0:ne.docs)==null?void 0:ce.source}}};var de,ue,pe;P.parameters={...P.parameters,docs:{...(de=P.parameters)==null?void 0:de.docs,source:{originalSource:`{
  args: {
    number: 6,
    value: "123"
  }
}`,...(pe=(ue=P.parameters)==null?void 0:ue.docs)==null?void 0:pe.source}}};var me,fe,xe;E.parameters={...E.parameters,docs:{...(me=E.parameters)==null?void 0:me.docs,source:{originalSource:`{
  args: {
    number: 6,
    value: "123",
    state: "error",
    helperText: "Invalid verification code"
  }
}`,...(xe=(fe=E.parameters)==null?void 0:fe.docs)==null?void 0:xe.source}}};var ge,he,ye;H.parameters={...H.parameters,docs:{...(ge=H.parameters)==null?void 0:ge.docs,source:{originalSource:`{
  args: {
    number: 6,
    value: "123",
    disabled: true
  }
}`,...(ye=(he=H.parameters)==null?void 0:he.docs)==null?void 0:ye.source}}};var ve,be,Te;q.parameters={...q.parameters,docs:{...(ve=q.parameters)==null?void 0:ve.docs,source:{originalSource:`{
  args: {
    number: 6,
    size: "small"
  }
}`,...(Te=(be=q.parameters)==null?void 0:be.docs)==null?void 0:Te.source}}};var we,je,Ve;A.parameters={...A.parameters,docs:{...(we=A.parameters)==null?void 0:we.docs,source:{originalSource:`{
  args: {
    number: 6,
    size: "large"
  }
}`,...(Ve=(je=A.parameters)==null?void 0:je.docs)==null?void 0:Ve.source}}};var Ne,Se,Fe;k.parameters={...k.parameters,docs:{...(Ne=k.parameters)==null?void 0:Ne.docs,source:{originalSource:`{
  args: {
    number: 6,
    type: "lined"
  }
}`,...(Fe=(Se=k.parameters)==null?void 0:Se.docs)==null?void 0:Fe.source}}};var ze,Ie,Pe;C.parameters={...C.parameters,docs:{...(ze=C.parameters)==null?void 0:ze.docs,source:{originalSource:`{
  args: {
    number: 6,
    type: "floating"
  }
}`,...(Pe=(Ie=C.parameters)==null?void 0:Ie.docs)==null?void 0:Pe.source}}};var Ee,He,qe;L.parameters={...L.parameters,docs:{...(Ee=L.parameters)==null?void 0:Ee.docs,source:{originalSource:`{
  args: {
    number: 4,
    titleText: "Enter 4-digit PIN",
    helperText: "Enter the 4-digit PIN"
  }
}`,...(qe=(He=L.parameters)==null?void 0:He.docs)==null?void 0:qe.source}}};var Ae,ke,Ce;O.parameters={...O.parameters,docs:{...(Ae=O.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  args: {
    showHelperText: false
  }
}`,...(Ce=(ke=O.parameters)==null?void 0:ke.docs)==null?void 0:Ce.source}}};var Le,Oe,De;D.parameters={...D.parameters,docs:{...(Le=D.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  args: {
    showTitleText: false
  }
}`,...(De=(Oe=D.parameters)==null?void 0:Oe.docs)==null?void 0:De.source}}};var Re,Me,We;R.parameters={...R.parameters,docs:{...(Re=R.parameters)==null?void 0:Re.docs,source:{originalSource:`{
  args: {
    placeholderText: "•"
  }
}`,...(We=(Me=R.parameters)==null?void 0:Me.docs)==null?void 0:We.source}}};var Be,_e,$e;M.parameters={...M.parameters,docs:{...(Be=M.parameters)==null?void 0:Be.docs,source:{originalSource:`{
  render: () => <InteractiveTemplate />
}`,...($e=(_e=M.parameters)==null?void 0:_e.docs)==null?void 0:$e.source}}};var Ke,Ge,Je;W.parameters={...W.parameters,docs:{...(Ke=W.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  render: () => <TypesTemplate />
}`,...(Je=(Ge=W.parameters)==null?void 0:Ge.docs)==null?void 0:Je.source}}};var Qe,Ue,Xe;B.parameters={...B.parameters,docs:{...(Qe=B.parameters)==null?void 0:Qe.docs,source:{originalSource:`{
  render: () => <SizesTemplate />
}`,...(Xe=(Ue=B.parameters)==null?void 0:Ue.docs)==null?void 0:Xe.source}}};var Ye,Ze,et;_.parameters={..._.parameters,docs:{...(Ye=_.parameters)==null?void 0:Ye.docs,source:{originalSource:`{
  render: () => <VerificationFormTemplate />,
  parameters: {
    docs: {
      description: {
        story: 'A complete example showing how to use the OTP input in a verification form. Try entering "123456" for a successful verification.'
      }
    }
  }
}`,...(et=(Ze=_.parameters)==null?void 0:Ze.docs)==null?void 0:et.source}}};const Pt=["Default","Filled","PartiallyFilled","Error","Disabled","Small","Large","Lined","Floating","CustomLength","NoHelperText","NoTitleText","CustomPlaceholder","Interactive","AllTypes","AllSizes","VerificationForm"];export{B as AllSizes,W as AllTypes,L as CustomLength,R as CustomPlaceholder,z as Default,H as Disabled,E as Error,I as Filled,C as Floating,M as Interactive,A as Large,k as Lined,O as NoHelperText,D as NoTitleText,P as PartiallyFilled,q as Small,_ as VerificationForm,Pt as __namedExportsOrder,It as default};
