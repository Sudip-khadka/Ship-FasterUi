import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{r as b}from"./index-2yJIXLcc.js";import{C as _}from"./chevron-left-B7gs0T92.js";var G={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function I(e){return`[nuqs] ${G[e]}
  See https://err.47ng.com/NUQS-${e}`}function me(e){if(e.size===0)return"";const r=[];for(const[n,l]of e.entries()){const h=n.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");r.push(`${h}=${J(l)}`)}return"?"+r.join("&")}function J(e){return e.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,r=>encodeURIComponent(r))}var P=Y();function w(e,...r){if(!P)return;const t=X(e,...r);performance.mark(t);try{console.log(e,...r)}catch{console.log(t)}}function K(e,...r){P&&console.warn(e,...r)}function X(e,...r){return e.replace(/%[sfdO]/g,t=>{const n=r.shift();return t==="%O"&&n?JSON.stringify(n).replace(/"([^"]+)":/g,"$1:"):String(n)})}function Y(){try{if(typeof localStorage>"u")return!1;const r="nuqs-localStorage-test";localStorage.setItem(r,r);const t=localStorage.getItem(r)===r;if(localStorage.removeItem(r),!t)return!1}catch(r){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",r),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}var j=b.createContext({useAdapter(){throw new Error(I(404))}});j.displayName="NuqsAdapterContext";P&&typeof window<"u"&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==j&&console.error(I(303)),window.__NuqsAdapterContext=j);function he(e){return({children:r,...t})=>b.createElement(j.Provider,{...t,value:{useAdapter:e}},r)}function Z(){const e=b.useContext(j);if(!("useAdapter"in e))throw new Error(I(404));return e.useAdapter()}function z(e,r,t){try{return e(r)}catch(n){return K("[nuqs] Error while parsing value `%s`: %O"+(t?" (for key `%s`)":""),r,n,t),null}}function k(){var r;if(typeof window>"u"||!!!window.GestureEvent)return 50;try{const t=(r=navigator.userAgent)==null?void 0:r.match(/version\/([\d\.]+) safari/i);return parseFloat(t[1])>=17?120:320}catch{return 320}}var O=k(),A=new Map,p={history:"replace",scroll:!1,shallow:!0,throttleMs:O},V=new Set,D=0,$=null;function ee(e){return A.get(e)}function re(){A.clear(),V.clear(),p.history="replace",p.scroll=!1,p.shallow=!0,p.throttleMs=O}function te(e,r,t,n){const l=r===null?null:t(r);return w("[nuqs queue] Enqueueing %s=%s %O",e,l,n),A.set(e,l),n.history==="push"&&(p.history="push"),n.scroll&&(p.scroll=!0),n.shallow===!1&&(p.shallow=!1),n.startTransition&&V.add(n.startTransition),p.throttleMs=Math.max(n.throttleMs??O,Number.isFinite(p.throttleMs)?p.throttleMs:0),l}function ne(){return new URLSearchParams(location.search)}function se({getSearchParamsSnapshot:e=ne,updateUrl:r,rateLimitFactor:t=1}){return $===null&&($=new Promise((n,l)=>{if(!Number.isFinite(p.throttleMs)){w("[nuqs queue] Skipping flush due to throttleMs=Infinity"),n(e()),setTimeout(()=>{$=null},0);return}function h(){D=performance.now();const[f,m]=ae({updateUrl:r,getSearchParamsSnapshot:e});m===null?n(f):l(f),$=null}function o(){const m=performance.now()-D,N=p.throttleMs,x=t*Math.max(0,Math.min(N,N-m));w("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",x,N),x===0?h():setTimeout(h,x)}setTimeout(o,0)})),$}function ae({updateUrl:e,getSearchParamsSnapshot:r}){const t=r();if(A.size===0)return[t,null];const n=Array.from(A.entries()),l={...p},h=Array.from(V);re(),w("[nuqs queue] Flushing queue %O with options %O",n,l);for(const[o,f]of n)f===null?t.delete(o):t.set(o,f);try{return ue(h,()=>{e(t,{history:l.history,scroll:l.scroll,shallow:l.shallow})}),[t,null]}catch(o){return console.error(I(429),n.map(([f])=>f).join(),o),[t,o]}}function ue(e,r){const t=n=>{if(n===e.length)return r();const l=e[n];if(!l)throw new Error("Invalid transition function");l(()=>t(n+1))};t(0)}function le(e){return{all:e=e||new Map,on:function(r,t){var n=e.get(r);n?n.push(t):e.set(r,[t])},off:function(r,t){var n=e.get(r);n&&(t?n.splice(n.indexOf(t)>>>0,1):e.set(r,[]))},emit:function(r,t){var n=e.get(r);n&&n.slice().map(function(l){l(t)}),(n=e.get("*"))&&n.slice().map(function(l){l(r,t)})}}}function v(e){function r(t){if(typeof t>"u")return null;let n="";if(Array.isArray(t)){if(t[0]===void 0)return null;n=t[0]}return typeof t=="string"&&(n=t),z(e.parse,n)}return{eq:(t,n)=>t===n,...e,parseServerSide:r,withDefault(t){return{...this,defaultValue:t,parseServerSide(n){return r(n)??t}}},withOptions(t){return{...this,...t}}}}v({parse:e=>e,serialize:e=>`${e}`});var B=v({parse:e=>{const r=parseInt(e);return Number.isNaN(r)?null:r},serialize:e=>Math.round(e).toFixed()});v({parse:e=>{const r=B.parse(e);return r===null?null:r-1},serialize:e=>B.serialize(e+1)});v({parse:e=>{const r=parseInt(e,16);return Number.isNaN(r)?null:r},serialize:e=>{const r=Math.round(e).toString(16);return r.padStart(r.length+r.length%2,"0")}});v({parse:e=>{const r=parseFloat(e);return Number.isNaN(r)?null:r},serialize:e=>e.toString()});v({parse:e=>e==="true",serialize:e=>e?"true":"false"});function Q(e,r){return e.valueOf()===r.valueOf()}v({parse:e=>{const r=parseInt(e);return Number.isNaN(r)?null:new Date(r)},serialize:e=>e.valueOf().toString(),eq:Q});v({parse:e=>{const r=new Date(e);return Number.isNaN(r.valueOf())?null:r},serialize:e=>e.toISOString(),eq:Q});v({parse:e=>{const r=new Date(e.slice(0,10));return Number.isNaN(r.valueOf())?null:r},serialize:e=>e.toISOString().slice(0,10),eq:Q});var U=le();function ie(e,{history:r="replace",shallow:t=!0,scroll:n=!1,throttleMs:l=O,parse:h=d=>d,serialize:o=String,eq:f=(d,i)=>d===i,defaultValue:m=void 0,clearOnDefault:N=!0,startTransition:x}={history:"replace",scroll:!1,shallow:!0,throttleMs:O,parse:d=>d,serialize:String,eq:(d,i)=>d===i,clearOnDefault:!0,defaultValue:void 0}){const d=Z(),i=d.searchParams,q=b.useRef((i==null?void 0:i.get(e))??null),[T,R]=b.useState(()=>{const u=ee(e),s=u===void 0?(i==null?void 0:i.get(e))??null:u;return s===null?null:z(h,s,e)}),M=b.useRef(T);w("[nuqs `%s`] render - state: %O, iSP: %s",e,T,(i==null?void 0:i.get(e))??null),b.useEffect(()=>{const u=(i==null?void 0:i.get(e))??null;if(u===q.current)return;const s=u===null?null:z(h,u,e);w("[nuqs `%s`] syncFromUseSearchParams %O",e,s),M.current=s,q.current=u,R(s)},[i==null?void 0:i.get(e),e]),b.useEffect(()=>{function u({state:s,query:g}){w("[nuqs `%s`] updateInternalState %O",e,s),M.current=s,q.current=g,R(s)}return w("[nuqs `%s`] subscribing to sync",e),U.on(e,u),()=>{w("[nuqs `%s`] unsubscribing from sync",e),U.off(e,u)}},[e]);const L=b.useCallback((u,s={})=>{let g=oe(u)?u(M.current??m??null):u;(s.clearOnDefault??N)&&g!==null&&m!==void 0&&f(g,m)&&(g=null);const S=te(e,g,o,{history:s.history??r,shallow:s.shallow??t,scroll:s.scroll??n,throttleMs:s.throttleMs??l,startTransition:s.startTransition??x});return U.emit(e,{state:g,query:S}),se(d)},[e,r,t,n,l,x,d.updateUrl,d.getSearchParamsSnapshot,d.rateLimitFactor]);return[T??m??null,L]}function oe(e){return typeof e=="function"}function ce({type:e="compressed",iconOnly:r=!1,count:t=0,size:n=1,next:l,previous:h,variant:o="default",className:f="",buttonClassName:m="",activeButtonClassName:N="!bg-primary-100 !text-primary-700",disabledButtonClassName:x="",iconPrev:d=c.jsx(_,{}),iconNext:i=c.jsx(_,{className:"rotate-180"}),onPageChange:q,currentPage:T,setPage:R}){const[M,L]=ie("page",{defaultValue:"1",shallow:!1,throttleMs:1e3}),u=T??Number(M),s=Math.ceil((t||0)/(n||1)),g=a=>{if(!a)return null;try{const y=a.startsWith("http")?a:`${window.location.origin}${a}`,W=new URLSearchParams(new URL(y).search);return Number(W.get("page"))||1}catch(y){return console.error("Error parsing URL:",a,y),null}},S=g(l),C=g(h),E=a=>{a<1||a>s||(R?R(a):L(String(a)),q==null||q(a))},H=()=>{const a=[];if(window.innerWidth<400)a.push(1),u>2&&a.push("..."),a.push(u),u<s-1&&a.push("..."),a.push(s);else if(s<=5)for(let y=1;y<=s;y++)a.push(y);else a.push(1),u<=3?a.push(2,3,4,"...",s):u>=s-2?a.push("...",s-3,s-2,s-1,s):a.push("...",u-1,u,u+1,"...",s);return a},F=()=>{switch(o){case"minimal":return"bg-transparent border-none";case"outlined":return"border border-secondary-300 hover:border-secondary-400";case"primary":return"text-primary hover:bg-primary-50";default:return"bg-secondary-100 hover:bg-secondary-200"}};return c.jsxs("div",{className:`w-full flex items-center justify-center gap-2 mt-4 ${f} 
        sm:gap-1 md:gap-2 lg:gap-3 ${e==="distributed"?" justify-evenly":""}`,children:[t>0&&c.jsxs("button",{onClick:()=>C&&E(C),className:`flex px-1 sm:px-2 py-1 text-xs sm:text-sm rounded hover:cursor-pointer  
            ${F()} ${m} ${C?"":x}`,disabled:!C,children:[d,!r&&c.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),(e==="compressed"||e==="distributed")&&c.jsx("div",{className:`buttons flex  ${e==="distributed"?"w-[30%] max-md:w-full justify-between":"gap-1"}`,children:H().map((a,y)=>typeof a=="number"?c.jsx("button",{onClick:()=>E(a),className:`hover:cursor-pointer px-1 sm:px-2 py-1 text-xs sm:text-sm rounded ${a===u?N:""} 
                ${F()} ${m} `,children:a},y):c.jsx("span",{className:`px-1 text-2xl sm:text-base  sm:px-2 ${o==="primary"?"text-primary":""}`,children:"..."},y))}),e==="middle"&&c.jsxs("p",{className:"md:text-sm",children:["Showing"," ",c.jsx("span",{className:`${o==="primary"?"text-primary":""}`,children:u})," ","of"," ",c.jsx("span",{className:`${o==="primary"?"text-primary":""}`,children:n})," ","Results of"," ",c.jsx("span",{className:`${o==="primary"?"text-primary":""}`,children:t})]}),t>0&&c.jsxs("button",{onClick:()=>S&&E(S),className:`flex px-2 sm:px-3 py-1 sm:py-2 text-sm sm:text-base rounded hover:cursor-pointer 
            ${F()} ${m} ${S?"":x}`,disabled:!S,children:[!r&&c.jsx("span",{className:"hidden sm:inline",children:"Next"}),i]}),e==="leftAndRight"&&c.jsxs("p",{className:"md:text-sm",children:["Showing"," ",c.jsx("span",{className:`${o==="primary"?"text-primary":""}`,children:u})," ","of"," ",c.jsx("span",{className:`${o==="primary"?"text-primary":""}`,children:n})," ","Results of"," ",c.jsx("span",{className:`${o==="primary"?"text-primary":""}`,children:t})]})]})}ce.__docgenInfo={description:"",methods:[],displayName:"PaginationComp",props:{iconOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},count:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},size:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},next:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},previous:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},variant:{required:!1,tsType:{name:"union",raw:'"default" | "minimal" | "outlined" | "primary"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"minimal"'},{name:"literal",value:'"outlined"'},{name:"literal",value:'"primary"'}]},description:"",defaultValue:{value:'"default"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},buttonClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},activeButtonClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"!bg-primary-100 !text-primary-700"',computed:!1}},disabledButtonClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},iconPrev:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"<ChevronLeft />",computed:!1}},iconNext:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:'<ChevronLeft className="rotate-180" />',computed:!1}},onPageChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:""},currentPage:{required:!1,tsType:{name:"number"},description:""},setPage:{required:!1,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:""},type:{required:!1,tsType:{name:"union",raw:'"compressed" | "leftAndRight" | "middle" | "distributed"',elements:[{name:"literal",value:'"compressed"'},{name:"literal",value:'"leftAndRight"'},{name:"literal",value:'"middle"'},{name:"literal",value:'"distributed"'}]},description:"",defaultValue:{value:'"compressed"',computed:!1}}}};export{ce as P,he as c,le as m,me as r};
